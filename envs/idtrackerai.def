Bootstrap: docker
From: nvidia/cuda:10.0-runtime-ubuntu18.04

%post

apt-get update && apt-get -y upgrade
apt-get -y install \
build-essential \
wget \
bzip2 \
ca-certificates \
libglib2.0-0 \
libxext6 \
libsm6 \
libxrender1 \
git
rm -rf /var/lib/apt/lists/*
apt-get clean

## Install Miniconda
#
#wget -c https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
#/bin/bash Miniconda3-latest-Linux-x86_64.sh -bfp /usr/local
## Conda configuration of channels from .condarc file
#conda config --file /.condarc --add channels defaults
#conda config --file /.condarc --add channels conda-forge
#conda update conda
##List installed environments
#conda list
#
## Modify singularity environment variable
#echo ". /usr/local/conda/etc/profile.d/conda.sh" >> $SINGULARITY_ENVIRONMENT
#echo "conda activate idtrackerai" >> $SINGULARITY_ENVIRONMENT
#
## Create env and activate
#
#conda create -n idtrackerai python=3.6
##. /usr/local/conda/envs/idtrackerai/bin/"$@"
###pip3 install imgaug==0.2.7
##pip3 install idtrackerai==3.0.24
##conda install tensorflow-gpu=1.13
